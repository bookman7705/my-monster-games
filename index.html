<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindAR Image Tracking</title>
    <!-- Load A-Frame first -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <!-- Then load MindAR A-Frame adapter -->
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    
    <style>
        .arjs-loader {
            height: 100%;
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.25rem;
        }
        /* Hide the A-Frame UI */
        .a-enter-vr {
            display: none !important;
        }
    </style>
</head>
<body style="margin: 0; overflow: hidden">
    <div class="arjs-loader" id="loader">
        Loading, please wait...
    </div>

    <a-scene 
        vr-mode-ui="enabled: false"
        mindar-image="imageTargetSrc: https://raw.githubusercontent.com/bookman7705/my-monster-games/main/mind/targets.mind;"
        renderer="colorManagement: true; precision: medium;"
        embedded
    >
        <a-assets>
            <a-asset-item id="animatedModel" src="https://raw.githubusercontent.com/bookman7705/my-monster-games/master/pokedex_3d_pro_leafeon.glb"></a-asset-item>
        </a-assets>

        <a-entity mindar-image-target="targetIndex: 0">
            <a-entity
                gltf-model="#animatedModel"
                scale="2 2 2"
                position="0 0 0"
                rotation="0 0 0"
                animation-mixer
            ></a-entity>
        </a-entity>
        
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // Remove loader when AR is ready
        document.querySelector('a-scene').addEventListener('arReady', () => {
            document.getElementById('loader').style.display = 'none';
        });
        
        // Fallback in case arReady doesn't fire
        setTimeout(() => {
            const loader = document.getElementById('loader');
            if (loader) loader.style.display = 'none';
        }, 5000);
    </script>
</body>
</html>