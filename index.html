<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/mindar.js"></script> <!-- Load MindAR JS -->
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>

    <style>
      .arjs-loader {
        height: 100%;
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .arjs-loader div {
        text-align: center;
        font-size: 1.5em;
        color: white;
      }
    </style>
  </head>
  <body style="margin: 0; overflow: hidden">
    <div class="arjs-loader" id="loader">
      <div>Loading, please wait...</div>
    </div>

    <!-- MindAR Scene -->
    <div id="mindar-container" style="width: 100%; height: 100%;"></div> <!-- Container for MindAR -->
    
    <script>
      // Initialize MindAR
      const mindar = new MindAR.MindAR({
        container: document.getElementById('mindar-container'),
        imageTargetSrc: 'https://raw.githubusercontent.com/bookman7705/my-monster-games/main/mind/targets.mind', // Path to the .mind file
      });

      // Once the scene is loaded, remove the loader
      mindar.start().then(() => {
        const loader = document.getElementById("loader");
        if (loader) loader.style.display = "none";
      }).catch(err => {
        console.error('Error starting MindAR:', err);
      });
    </script>

    <!-- A-Frame components for your monster models -->
    <a-scene embedded vr-mode-ui="enabled: false" renderer="logarithmicDepthBuffer: true; precision: medium">
      <a-entity mindar-image-target="target: #monster-target">
        <a-entity
          gltf-model="https://raw.githubusercontent.com/bookman7705/my-monster-games/master/pokedex_3d_pro_leafeon.glb"
          scale="2 2 2"
          position="0 0 0"
          rotation="0 0 0"
          animation-mixer
        ></a-entity>
      </a-entity>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>